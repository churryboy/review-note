<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Version: v2.5.0 - Production Deployment -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google-site-verification" content="0OtrYCOU8M82-LcG2_Qq3Y6HZyRt_nlXg1vKK2aaHWE" />
    <title>ë³µìŠµë…¸íŠ¸ v2.5 - ë¬¸ì œ ìŠ¤ìº” & ì €ì¥</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ctext y='50' font-size='48'%3EğŸ“%3C/text%3E%3C/svg%3E">    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
      window.MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }, svg: { fontCache: 'global' } };
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    
    <!-- Mixpanel SDK -->
    <script type="text/javascript">
    (function(c,a){if(!a.__SV){var b=window;try{var d,m,j,k=b.location,f=k.hash;d=function(a,b){return(m=a.match(RegExp(b+"=([^&]*)")))?m[1]:null};f&&d(f,"state")&&(j=JSON.parse(decodeURIComponent(d(f,"state"))),"mpeditor"===j.action&&(b.sessionStorage.setItem("_mpcehash",f),history.replaceState(j.desiredHash||"",c.title,k.pathname+k.search)))}catch(n){}var l,h;window.mixpanel=a;a._i=[];a.init=function(b,d,g){function c(b,i){var a=i.split(".");2==a.length&&(b=b[a[0]],i=a[1]);b[i]=function(){b.push([i].concat(Array.prototype.slice.call(arguments,0)))}}var e=a;"undefined"!==typeof g?e=a[g]=[]:g="mixpanel";e.people=e.people||[];e.toString=function(b){var a="mixpanel";"mixpanel"!==g&&(a+="."+g);b||(a+=" (stub)");return a};e.people.toString=function(){return e.toString(1)+".people (stub)"};l="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");for(h=0;h<l.length;h++)c(e,l[h]);var f="set set_once union unset remove delete".split(" ");e.get_group=function(){function a(c){b[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));e.push([d,call2])}}for(var b={},d=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<f.length;c++)a(f[c]);return b};a._i.push([b,d,g])};a.__SV=1.2;b=c.createElement("script");b.type="text/javascript";b.async=!0;b.src="https://cdn4.mxpnl.com/libs/mixpanel-2-latest.min.js";d=c.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d);window.mixpanelLoaded = true;}})(document,window.mixpanel||[]);
    </script>
</head>
<body>
    <!-- Auth Page View -->
    <div id="authView" class="auth-view" style="display:none !important;">
        <div class="auth-card">
            <div class="auth-header">
                <i class="fas fa-book"></i>
                <div class="auth-title">ìŠ¤ë§ˆíŠ¸ ì˜¤ë‹µë…¸íŠ¸</div>
            </div>
            <div class="auth-body">
                <div class="auth-row">
                    <input id="authNickname" type="text" maxlength="40" placeholder="ë‹‰ë„¤ì„" />
                </div>
                <button id="authActionBtn" class="btn btn--primary btn--full btn--lg">ì‹œì‘í•˜ê¸°</button>                <div id="authError" class="pin-error" style="display:none !important;"></div>
            </div>
        </div>
    </div>

    <!-- App Header -->
    <header class="app-header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-book"></i>
                <span class="logo-text">ìŠ¤ë§ˆíŠ¸ ì˜¤ë‹µë…¸íŠ¸</span>
            </div>
            <button id="logoutBtn" class="btn btn--ghost btn--circle btn--sm" title="ê³„ì •">                <img id="headerAvatar" src="" alt="avatar" style="width:24px; height:24px; border-radius:999px; object-fit:cover;" />
            </button>
        </div>
        <div class="profile-dropdown" id="profileDropdown" style="display:none !important;">
            <div class="profile-header">
                <img id="profileAvatar" src="" alt="avatar">
                <div class="profile-info">
                    <div class="profile-name" id="profilePublicId">-</div>
                    <div class="profile-email" id="profileNickname">-</div>
                </div>
            </div>
            <div class="profile-actions">
                <button class="btn btn--secondary btn--sm" id="profileLogoutBtn"><i class="fas fa-sign-out-alt"></i><span>ë¡œê·¸ì•„ì›ƒ</span></button>            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- níšŒë… View -->
        <div class="round-view" id="roundNView">
            <div class="pop-quiz-desc" id="popQuizDesc">
                <div class="desc-text">
                    <div class="desc-body">ì¹´ë“œë¥¼ ì™¼ìª½ìœ¼ë¡œ ìŠ¤ì™€ì´í”„ í•˜ë©´ íšŒë…ì´ ì˜¤ë¥´ê³ <br>ì˜¤ë¥¸ìª½ìœ¼ë¡œ ìŠ¤ì™€ì´í”„í•˜ë©´ íŒí€´ì¦ˆë¡œ ë³´ë‚´ì§‘ë‹ˆë‹¤</div>
                </div>
            </div>
            
            <!-- Floating Camera Button -->
            <button class="floating-camera-btn" id="floatingCameraBtn">
                <i class="fas fa-camera"></i>
            </button>
            <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display: none;">

            <div class="list-controls" id="nListControls">
                <select id="nSortSelect" aria-label="ì •ë ¬">
                    <option value="created_recent" selected>ìµœê·¼ ìƒì„±ìˆœ</option>
                    <option value="created_oldest">ì˜¤ë˜ì „ ìƒì„±ìˆœ</option>
                    <option value="round_desc">íšŒë… ë†’ì€ ìˆœ</option>
                    <option value="round_asc">íšŒë… ë‚®ì€ ìˆœ</option>
                    <option value="recent">ìµœê·¼ ì—´ì–´ë³¸ ìˆœ</option>
                    <option value="oldest">ì˜ˆì „ì— ì—´ì–´ë³¸ ìˆœ</option>
                </select>
            </div>

            <div class="question-list" id="roundNList"></div>
            
            <div class="empty-state" id="roundNEmpty">
                <i class="fas fa-inbox"></i>
                <p>ì•„ì§ ë³µìŠµí•  ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤</p>
            </div>
        </div>

        <!-- Pop Quiz View -->
        <div class="round-view" id="settingsView" style="display: none;">
            <div class="pop-quiz-desc" id="popQuizDesc">
                <div class="desc-icon">ğŸ¯</div>
                <div class="desc-text">
                    <div class="desc-title">íŒí€´ì¦ˆ ì•ˆë‚´</div>
                    <div class="desc-body">níšŒë…ì´ ëë‚œ ë¬¸ì œë“¤ì´ ëœ¬ê¸ˆì—†ëŠ” ì‹œì ì— ì œì‹œë©ë‹ˆë‹¤.<br/>í•œë²ˆ ì œì‹œëœ ë¬¸ì œëŠ” ì•„ë˜ ëª©ë¡ì—ì„œ ì°¾ì•„ë³´ì‹¤ ìˆ˜ ìˆì–´ìš”.</div>
                </div>
            </div>
            <div class="pop-quiz-status" id="popQuizStatus">
                <div class="status-row">
                    <span>íŒí€´ì¦ˆ ëŒ€ê¸°ì¤‘ì¸ ë¬¸ì œ</span>
                    <strong id="popQuizWaitingCountStat">0ê°œ</strong>
                </div>
                <div class="status-row">
                    <span>í€´ì¦ˆ ì „ í‰ê·  íšŒë… ìˆ˜</span>
                    <strong id="popQuizAvgRoundStat">0.00íšŒë…</strong>
                </div>
            </div>
            <div class="pop-quiz-container" id="popQuizContainer"></div>
            
            <div class="empty-state" id="popQuizEmpty">
                <i class="fas fa-inbox"></i>
                <p>ì•„ì§ íŒí€´ì¦ˆ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤</p>
            </div>
        </div>
        
        <!-- Achievement View -->
        <div class="round-view" id="achievementView" style="display: none;">
            <div class="pop-quiz-desc">
                <div class="desc-icon">ğŸ†</div>
                <div class="desc-text">
                    <div class="desc-title">ë‹¬ì„± ì™„ë£Œ</div>
                    <div class="desc-body">íŒí€´ì¦ˆì—ì„œ ì •ë‹µì„ ë§íŒ ë¬¸ì œë“¤ì…ë‹ˆë‹¤.<br/>ì •ë‹µ ë¬¸ì œ 5ê°œ ë§ˆë‹¤ ë„¤ì´ë²„ í¬ì¸íŠ¸ 1,000ì›ì„ ë°›ì„ ìˆ˜ ìˆì–´ìš”.</div>
                </div>
            </div>
            <div class="pop-quiz-status" id="achievementStatus" style="display:none !important;">
                <div class="status-row scholarship-cta-row">
                    <button id="scholarshipCtaBtn" class="scholarship-cta-btn" disabled>
                        <i class="fas fa-graduation-cap"></i>
                        <span>ì¥í•™ê¸ˆ ë°›ê¸° - ë„¤ì´ë²„ í¬ì¸íŠ¸ 1,000ì›</span>
                        <small id="scholarshipProgress">(0/5 ë‹¬ì„±ì™„ë£Œ)</small>
                    </button>
                </div>
            </div>
            <div class="question-list" id="achievementList"></div>
            <div class="empty-state" id="achievementEmpty">
                <i class="fas fa-trophy"></i>
                <p>ì•„ì§ ì„±ì·¨í•œ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤</p>
            </div>
        </div>

        <!-- Image Review View -->
        <div class="image-review-view" id="imageReviewView" style="display: none;">
            <div class="review-header">
                <button class="back-btn" id="backToCameraFromReview">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2>ë¬¸ì œë¥¼ ë¶„ë¥˜í•´ì£¼ì„¸ìš”</h2>
                <button class="back-btn" id="deleteFromReview" title="ì‚­ì œ">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
            
            <div class="swipe-container">
                <div class="image-card" id="imageCard">
                    <img id="reviewImage" src="" alt="ë¬¸ì œ ì´ë¯¸ì§€">
                </div>
            </div>

            <div class="solution-notes" style="padding: 16px 20px; background:#fff;">
                <h3 style="margin-bottom:8px;">ì •ë‹µ ì…ë ¥ë€</h3>
                <p style="color:#666; margin:0 0 10px; font-size:0.92rem;">âš ï¸ ì •ë‹µì´ ì…ë ¥ë˜ì§€ ì•Šìœ¼ë©´ íŒí€´ì¦ˆ ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ì—†ì–´ìš”.</p>
                <input id="reviewAnswerInput" type="text" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”" style="width:100%; border:2px solid #eee; border-radius:8px; padding:12px; font-size:0.95rem;" />
            </div>
            
            <div class="review-actions">
                <button class="action-btn wrong" id="wrongBtn">
                    <i class="fas fa-times-circle"></i>
                    <span>í‹€ë¦° ë¬¸ì œ</span>
                </button>
                <button class="action-btn ambiguous" id="ambiguousBtn">
                    <i class="fas fa-question-circle"></i>
                    <span>ì• ë§¤í•œ ë¬¸ì œ</span>
                </button>
            </div>
        </div>
        
        <!-- Solution View -->
        <div class="solution-view" id="solutionView" style="display: none;">
            <div class="solution-header">
                <button class="back-btn" id="backFromSolution">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div class="solution-title">
                    <h2 id="solutionQuestionNumber">ë¬¸ì œ 1</h2>
                    <span class="solution-category" id="solutionCategory"></span>
                </div>
                <button class="back-btn" id="deleteFromSolution" title="ì‚­ì œ">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
            
            <div class="solution-content">
                <div class="solution-image-container">
                    <img id="solutionImage" src="" alt="ë¬¸ì œ ì´ë¯¸ì§€">
                </div>
                
                <div class="solution-process">
                    <div class="solution-notes">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <h3 style="margin: 0;">ì •ë‹µ ì…ë ¥ë€</h3>
                            <span id="answerValue" style="color:#111; display:none; font-weight:600; margin: 0 10px;">ì •ë‹µì„ ì•Œë ¤ì£¼ì„¸ìš”</span>
                            <button id="answerReveal" class="btn-secondary" style="padding:6px 10px;">ë³´ê¸°</button>
                        </div>
                        <p style="color:#666; margin:6px 0 10px; font-size:0.92rem;">âš ï¸ ì •ë‹µì´ ì…ë ¥ë˜ì§€ ì•Šìœ¼ë©´ íŒí€´ì¦ˆ ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ì—†ì–´ìš”.</p>
                        <div style="display:flex; gap:8px; align-items:center;">
                            <input id="solutionAnswerInput" type="text" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”" style="flex:1; border:2px solid #eee; border-radius:8px; padding:12px; font-size:0.95rem;" />
                            <button id="solutionAnswerSubmit" class="btn-primary"><i class="fas fa-paper-plane"></i><span>ì œì¶œ</span></button>
                        </div>
                    </div>
                    
                    <!-- Work Process Note Container -->
                    <div class="solution-notes" style="margin-top: 16px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <h3 style="margin: 0;">í’€ì´ ì…ë ¥</h3>
                        </div>
                        <p style="color:#666; margin:6px 0 10px; font-size:0.92rem;">ğŸ“· í’€ì´ ê³¼ì •ì„ ì‚¬ì§„ìœ¼ë¡œ ì €ì¥í•´ë³´ì„¸ìš”.</p>
                        
                        <!-- Camera Input Interface -->
                        <div id="workProcessCameraInterface" style="display:flex; gap:8px; align-items:center;">
                            <button id="workProcessCameraBtn" class="btn-secondary" style="flex:1; display:flex; align-items:center; justify-content:center; gap:8px; padding:12px;">
                                <i class="fas fa-camera"></i>
                                <span>ì‚¬ì§„ ì¶”ê°€</span>
                            </button>
                        </div>
                        
                        <!-- Images Display Container -->
                        <div id="workProcessImagesContainer" style="display:none; margin-top:12px;">
                            <div id="workProcessImagesList" style="display:flex; gap:8px; flex-wrap:wrap; margin-bottom:8px;">
                                <!-- Images will be dynamically added here -->
                            </div>
                            <div style="display:flex; justify-content:space-between; align-items:center;">
                                <span id="workProcessImageCount" style="color:#666; font-size:0.9rem;">0ê°œ ì´ë¯¸ì§€</span>
                                <button id="workProcessAddMoreBtn" class="btn-secondary" style="padding:6px 10px; font-size:0.85rem;">
                                    <i class="fas fa-plus"></i>
                                    <span>ì¶”ê°€</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Hidden file input -->
                        <input type="file" id="workProcessFileInput" accept="image/*" capture="environment" style="display:none;" multiple>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Quiz Modal -->
    <div class="image-popup-overlay" id="quizModal" style="display: none;">
        <div class="image-popup-content">
            <div class="quiz-image-container">
                <img id="quizImage" src="" alt="ë¬¸ì œ ì´ë¯¸ì§€">
            </div>
            <div class="quiz-answer-panel">
                <input id="quizAnswer" type="text" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”" />
                <button id="quizSubmit" class="btn-primary"><i class="fas fa-paper-plane"></i><span>ì œì¶œ</span></button>
                <div id="quizResult" class="quiz-result" style="display:none !important;"></div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="image-popup-overlay" id="successModal" style="display: none;">
        <div class="image-popup-content success-content">
            <div class="celebration" aria-hidden="true">
                <span class="confetti"></span>
                <span class="confetti"></span>
                <span class="confetti"></span>
                <span class="confetti"></span>
                <span class="confetti"></span>
            </div>
            <div class="success-body">
                <div class="success-emoji">ğŸ‰</div>
                <h3>ì •ë‹µì…ë‹ˆë‹¤!</h3>
                <p>ì´ì œ ì´ ë¬¸ì œë¥¼ ì™„ë²½íˆ ì´í•´í•˜ì‹  ê²ƒ ê°™ë„¤ìš”!</p>
            </div>
            <div class="success-actions" id="successMainActions">
                <button id="successLaterBtn" class="btn-secondary">ë‚˜ì¤‘ì— ë˜ í€´ì¦ˆë¡œ í’€ì–´ë³¼ë˜ìš”</button>
                <button id="successUnderstoodBtn" class="btn-primary">ì´ ë¬¸ì œëŠ” ì™„ì „íˆ ì´í•´í–ˆì–´ìš”!</button>
            </div>
            <div class="success-actions" id="successDelayOptions" style="display:none; flex-direction:column; gap:8px;">
                <button id="success5mBtn" class="btn-primary" style="width:100%;">5ë¶„ë’¤ì— ë‹¤ì‹œ í’€ì–´ë³¼ë˜ìš”</button>
                <button id="success1hBtn" class="btn-primary" style="width:100%;">1ì‹œê°„ ë’¤ì— ë‹¤ì‹œ í’€ì–´ë³¼ë˜ìš”</button>
                <button id="success1dBtn" class="btn-primary" style="width:100%;">ë‚´ì¼ ë‹¤ì‹œ í’€ì–´ë³¼ë˜ìš”</button>
            </div>
        </div>
    </div>

    <!-- Fail Modal -->
    <div class="image-popup-overlay" id="failModal" style="display: none;">
        <div class="image-popup-content encourage-content">
            <div class="encourage-visual" aria-hidden="true">
                <div class="encourage-emoji">ğŸ’ª</div>
                <div class="sparkles">
                    <span class="sparkle"></span>
                    <span class="sparkle"></span>
                    <span class="sparkle"></span>
                </div>
            </div>
            <div class="encourage-body">
                <h3>ì¡°ê¸ˆë§Œ ë”!</h3>
                <p>ì•„ì‰½ì§€ë§Œ ì •ë‹µì´ ì•„ë‹ˆë„¤ìš”.. ì¡°ê¸ˆ ë” ê³µë¶€í•œ ë‹¤ìŒì— ë‹¤ì‹œ í’€ì–´ë³´ë„ë¡ í•´ìš”!</p>
            </div>
            <div class="encourage-actions">
                <button id="failRetryBtn" class="btn-primary">ë‹¤ì‹œ í’€ì–´ë³¼ë˜ìš”</button>
            </div>
        </div>
    </div>

    <!-- Answer Required Modal -->
    <div class="image-popup-overlay" id="answerReqModal" style="display:none !important;">
        <div class="image-popup-content" style="max-width:520px;">
            <button class="popup-close" id="answerReqClose"><i class="fas fa-times"></i></button>
            <div style="padding: 8px 0 12px; text-align:center;">
                <div style="font-size:1.6rem; margin-bottom:6px;">âœï¸</div>
                <h3 style="margin:0 0 6px;">ì •ë‹µì„ ì…ë ¥í•´ ì£¼ì„¸ìš”</h3>
                <p style="margin:0; color:#666; font-size:0.92rem;">íŒí€´ì¦ˆ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì •ë‹µì´ í•„ìš”í•´ìš”.</p>
            </div>
            <div style="display:flex; gap:8px; align-items:center; padding-top:6px;">
                <input id="answerReqInput" type="text" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”" style="flex:1; border:2px solid #eee; border-radius:8px; padding:12px; font-size:0.95rem;" />
                <button id="answerReqSubmit" class="btn-primary">ì €ì¥í•˜ê³  í€´ì¦ˆë¡œ</button>
            </div>
        </div>
    </div>

    <!-- Work Process Image Modal -->
    <div class="image-popup-overlay" id="workProcessImageModal" style="display: none;">
        <div class="image-popup-content" style="max-width: 90vw; max-height: 90vh; padding: 0; background: transparent;">
            <button class="popup-close" id="workProcessImageClose" style="position: absolute; top: 10px; right: 10px; z-index: 10; background: rgba(0,0,0,0.7); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-times"></i>
            </button>
            <div style="position: relative; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
                <img id="workProcessModalImage" src="" alt="í’€ì´ ê³¼ì • ì´ë¯¸ì§€" style="max-width: 100%; max-height: 100%; object-fit: contain;">
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" id="navNRound">
            <i class="fas fa-redo"></i>
            <span>níšŒë…</span>
        </button>
        <button class="nav-item" id="navSettings">
            <i class="fas fa-question-circle"></i>
            <span>íŒí€´ì¦ˆ</span>
            <span class="quiz-badge" id="quizBadge" style="display: none;"></span>
        </button>
        <button class="nav-item" id="navAchievement">
            <i class="fas fa-trophy"></i>
            <span>ì„±ì·¨ë„</span>
        </button>
    </nav>

    <script src="script.js"></script>
</body>
</html>